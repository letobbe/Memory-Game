function renderGameBricks(){showLevel.innerHTML=level;var e=level,r=gameBricksColumns*gameBricksRows;if(e>r){var t=Math.floor(4*Math.random())+1;document.getElementsByTagName("body")[0].className="background-"+t,updateLives(1),gameBricksColumns++,gameBricksRows++,r=gameBricksColumns*gameBricksRows}var o=document.getElementById("gameboard");firstBrickCount=0;for(var c=[];firstBrickCount<=r-e-1;)c[firstBrickCount++]=0;for(;e>0;)c[firstBrickCount++]=e--;for(c=c.shuffle(),o.removeAttribute("class"),o.className+="gameboard-col-"+gameBricksColumns;o.hasChildNodes();)o.removeChild(o.lastChild);for(;r>0;){var i=document.createElement("div"),a=c[r-1];if(i.className="gamebrick",i.dataset.number=a,0!=a)var s=a;else var s="";i.innerHTML="<div>"+s+"</div>",o.insertBefore(i,o.firstChild),r--}document.getElementById("timer").className+="timerStart",setTimeout(gameStart,3500)}function gameStart(){brickClickCounter=1,detectClicks(),document.getElementById("timer").removeAttribute("class"),document.getElementById("gameboard").className+=" gameStarted";var e=document.getElementsByClassName("gamebrick")}function detectClicks(){for(var e=document.getElementsByClassName("gamebrick"),r=0;r<e.length;r++)e[r].addEventListener("click",clickAction,!1)}function clickAction(){var e=this.getAttribute("data-number");this.getAttribute("data-number")==brickClickCounter?(this.className+=" correct",updateScore(100),brickClickCounter==level&&(updateScore(500+50*level),level++,renderGameBricks()),brickClickCounter++):(0==this.getAttribute("data-number")||this.getAttribute("data-number")>brickClickCounter)&&(this.className+=" wrong",updateLives(-1),updateScore(-100))}function updateLives(e){lives+=e,showLives.innerHTML=lives,0>=lives&&(alert("You Lost!"),setHighScore(),resetGame())}function updateScore(e){score+=e,showScore.innerHTML=score}function checkHighScore(){"undefined"!=typeof Storage?localStorage.memoryHighscore?showHighScore.innerHTML=localStorage.memoryHighscore:showHighScore.innerHTML=0:alert("Your browser dont support highscore")}function setHighScore(){"undefined"!=typeof Storage?localStorage.memoryHighscore?localStorage.memoryHighscore<score&&(localStorage.memoryHighscore=score):localStorage.memoryHighscore=score:alert("The highscore can not be saved")}function resetGame(){level=1,score=0,brickClickCounter=1,gameBricksColumns=2,gameBricksRows=2,lives=0,checkHighScore(),updateScore(0),updateLives(3),renderGameBricks()}var level=1,score=0,brickClickCounter=1,gameBricksColumns=2,gameBricksRows=2,lives=0;Array.prototype.shuffle=function(){for(var e=this,r=e.length-1;r>=0;r--){var t=Math.floor(Math.random()*(r+1)),o=e[t];e[t]=e[r],e[r]=o}return e},window.onload=function(){var e=document.getElementById("showLevel"),r=document.getElementById("showScore"),t=document.getElementById("showLives"),o=document.getElementById("showHighScore");checkHighScore(),updateScore(0),updateLives(3),renderGameBricks()};